{"ast":null,"code":"/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nimport * as React from 'react';\nimport { invariant } from '@formatjs/intl-utils';\nimport { assignUniqueKeysToParts } from '../utils';\nimport { IntlMessageFormat, isFormatXMLElementFn } from 'intl-messageformat';\nimport { MissingTranslationError, MessageFormatError } from '../error';\nimport { TYPE } from 'intl-messageformat-parser';\n\nfunction setTimeZoneInOptions(opts, timeZone) {\n  return Object.keys(opts).reduce(function (all, k) {\n    all[k] = __assign({\n      timeZone: timeZone\n    }, opts[k]);\n    return all;\n  }, {});\n}\n\nfunction deepMergeOptions(opts1, opts2) {\n  var keys = Object.keys(__assign(__assign({}, opts1), opts2));\n  return keys.reduce(function (all, k) {\n    all[k] = __assign(__assign({}, opts1[k] || {}), opts2[k] || {});\n    return all;\n  }, {});\n}\n\nfunction deepMergeFormatsAndSetTimeZone(f1, timeZone) {\n  if (!timeZone) {\n    return f1;\n  }\n\n  var mfFormats = IntlMessageFormat.formats;\n  return __assign(__assign(__assign({}, mfFormats), f1), {\n    date: deepMergeOptions(setTimeZoneInOptions(mfFormats.date, timeZone), setTimeZoneInOptions(f1.date || {}, timeZone)),\n    time: deepMergeOptions(setTimeZoneInOptions(mfFormats.time, timeZone), setTimeZoneInOptions(f1.time || {}, timeZone))\n  });\n}\n\nexport function assignUniqueKeysToFormatXMLElementFnArgument(values) {\n  return Object.keys(values).reduce(function (acc, k) {\n    var v = values[k];\n    acc[k] = isFormatXMLElementFn(v) ? assignUniqueKeysToParts(v) : v;\n    return acc;\n  }, {});\n}\n\nfunction prepareIntlMessageFormatHtmlOutput(chunks, shouldWrap) {\n  return Array.isArray(chunks) && shouldWrap ? React.createElement.apply(React, __spreadArrays([React.Fragment, null], chunks)) : chunks;\n}\n\nexport function formatMessage(_a, state, messageDescriptor, values) {\n  var locale = _a.locale,\n      formats = _a.formats,\n      messages = _a.messages,\n      defaultLocale = _a.defaultLocale,\n      defaultFormats = _a.defaultFormats,\n      onError = _a.onError,\n      timeZone = _a.timeZone,\n      wrapRichTextChunksInFragment = _a.wrapRichTextChunksInFragment;\n\n  if (messageDescriptor === void 0) {\n    messageDescriptor = {\n      id: ''\n    };\n  }\n\n  var msgId = messageDescriptor.id,\n      defaultMessage = messageDescriptor.defaultMessage; // `id` is a required field of a Message Descriptor.\n\n  invariant(!!msgId, '[React Intl] An `id` must be provided to format a message.');\n  var id = String(msgId);\n  var message = // In case messages is Object.create(null)\n  // e.g import('foo.json') from webpack)\n  // See https://github.com/formatjs/formatjs/issues/1914\n  messages && Object.prototype.hasOwnProperty.call(messages, id) && messages[id]; // IMPORTANT: Hot path if `message` is AST with a single literal node\n\n  if (Array.isArray(message) && message.length === 1 && message[0].type === TYPE.literal) {\n    return message[0].value;\n  } // IMPORTANT: Hot path straight lookup for performance\n\n\n  if (!values && message && typeof message === 'string') {\n    return message.replace(/'\\{(.*?)\\}'/gi, \"{$1}\");\n  }\n\n  var patchedValues = values && assignUniqueKeysToFormatXMLElementFnArgument(values);\n  formats = deepMergeFormatsAndSetTimeZone(formats, timeZone);\n  defaultFormats = deepMergeFormatsAndSetTimeZone(defaultFormats, timeZone);\n\n  if (!message) {\n    if (!defaultMessage || locale && locale.toLowerCase() !== defaultLocale.toLowerCase()) {\n      // This prevents warnings from littering the console in development\n      // when no `messages` are passed into the <IntlProvider> for the\n      // default locale.\n      onError(new MissingTranslationError(messageDescriptor, locale));\n    }\n\n    if (defaultMessage) {\n      try {\n        var formatter = state.getMessageFormat(defaultMessage, defaultLocale, defaultFormats);\n        return prepareIntlMessageFormatHtmlOutput(formatter.format(patchedValues), wrapRichTextChunksInFragment);\n      } catch (e) {\n        onError(new MessageFormatError(\"Error formatting default message for: \\\"\" + id + \"\\\", rendering default message verbatim\", locale, messageDescriptor, e));\n        return defaultMessage;\n      }\n    }\n\n    return id;\n  } // We have the translated message\n\n\n  try {\n    var formatter = state.getMessageFormat(message, locale, formats, {\n      formatters: state\n    });\n    return prepareIntlMessageFormatHtmlOutput(formatter.format(patchedValues), wrapRichTextChunksInFragment);\n  } catch (e) {\n    onError(new MessageFormatError(\"Error formatting message: \\\"\" + id + \"\\\", using \" + (defaultMessage ? 'default message' : 'id') + \" as fallback.\", locale, messageDescriptor, e));\n  }\n\n  if (defaultMessage) {\n    try {\n      var formatter = state.getMessageFormat(defaultMessage, defaultLocale, defaultFormats);\n      return prepareIntlMessageFormatHtmlOutput(formatter.format(patchedValues), wrapRichTextChunksInFragment);\n    } catch (e) {\n      onError(new MessageFormatError(\"Error formatting the default message for: \\\"\" + id + \"\\\", rendering message verbatim\", locale, messageDescriptor, e));\n    }\n  }\n\n  return message || defaultMessage || id;\n}","map":{"version":3,"sources":["/Users/polinarudenko/Documents/Projects/arlekino/node_modules/react-intl/lib/src/formatters/message.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArrays","il","r","Array","k","a","j","jl","React","invariant","assignUniqueKeysToParts","IntlMessageFormat","isFormatXMLElementFn","MissingTranslationError","MessageFormatError","TYPE","setTimeZoneInOptions","opts","timeZone","keys","reduce","all","deepMergeOptions","opts1","opts2","deepMergeFormatsAndSetTimeZone","f1","mfFormats","formats","date","time","assignUniqueKeysToFormatXMLElementFnArgument","values","acc","v","prepareIntlMessageFormatHtmlOutput","chunks","shouldWrap","isArray","createElement","Fragment","formatMessage","_a","state","messageDescriptor","locale","messages","defaultLocale","defaultFormats","onError","wrapRichTextChunksInFragment","id","msgId","defaultMessage","String","message","type","literal","value","replace","patchedValues","toLowerCase","formatter","getMessageFormat","format","e","formatters"],"mappings":"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","sourcesContent":["/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport * as React from 'react';\nimport { invariant } from '@formatjs/intl-utils';\nimport { assignUniqueKeysToParts } from '../utils';\nimport { IntlMessageFormat, isFormatXMLElementFn, } from 'intl-messageformat';\nimport { MissingTranslationError, MessageFormatError } from '../error';\nimport { TYPE } from 'intl-messageformat-parser';\nfunction setTimeZoneInOptions(opts, timeZone) {\n    return Object.keys(opts).reduce(function (all, k) {\n        all[k] = __assign({ timeZone: timeZone }, opts[k]);\n        return all;\n    }, {});\n}\nfunction deepMergeOptions(opts1, opts2) {\n    var keys = Object.keys(__assign(__assign({}, opts1), opts2));\n    return keys.reduce(function (all, k) {\n        all[k] = __assign(__assign({}, (opts1[k] || {})), (opts2[k] || {}));\n        return all;\n    }, {});\n}\nfunction deepMergeFormatsAndSetTimeZone(f1, timeZone) {\n    if (!timeZone) {\n        return f1;\n    }\n    var mfFormats = IntlMessageFormat.formats;\n    return __assign(__assign(__assign({}, mfFormats), f1), { date: deepMergeOptions(setTimeZoneInOptions(mfFormats.date, timeZone), setTimeZoneInOptions(f1.date || {}, timeZone)), time: deepMergeOptions(setTimeZoneInOptions(mfFormats.time, timeZone), setTimeZoneInOptions(f1.time || {}, timeZone)) });\n}\nexport function assignUniqueKeysToFormatXMLElementFnArgument(values) {\n    return Object.keys(values).reduce(function (acc, k) {\n        var v = values[k];\n        acc[k] = isFormatXMLElementFn(v)\n            ? assignUniqueKeysToParts(v)\n            : v;\n        return acc;\n    }, {});\n}\nfunction prepareIntlMessageFormatHtmlOutput(chunks, shouldWrap) {\n    return Array.isArray(chunks) && shouldWrap\n        ? React.createElement.apply(React, __spreadArrays([React.Fragment, null], chunks)) : chunks;\n}\nexport function formatMessage(_a, state, messageDescriptor, values) {\n    var locale = _a.locale, formats = _a.formats, messages = _a.messages, defaultLocale = _a.defaultLocale, defaultFormats = _a.defaultFormats, onError = _a.onError, timeZone = _a.timeZone, wrapRichTextChunksInFragment = _a.wrapRichTextChunksInFragment;\n    if (messageDescriptor === void 0) { messageDescriptor = { id: '' }; }\n    var msgId = messageDescriptor.id, defaultMessage = messageDescriptor.defaultMessage;\n    // `id` is a required field of a Message Descriptor.\n    invariant(!!msgId, '[React Intl] An `id` must be provided to format a message.');\n    var id = String(msgId);\n    var message = \n    // In case messages is Object.create(null)\n    // e.g import('foo.json') from webpack)\n    // See https://github.com/formatjs/formatjs/issues/1914\n    messages &&\n        Object.prototype.hasOwnProperty.call(messages, id) &&\n        messages[id];\n    // IMPORTANT: Hot path if `message` is AST with a single literal node\n    if (Array.isArray(message) &&\n        message.length === 1 &&\n        message[0].type === TYPE.literal) {\n        return message[0].value;\n    }\n    // IMPORTANT: Hot path straight lookup for performance\n    if (!values && message && typeof message === 'string') {\n        return message.replace(/'\\{(.*?)\\}'/gi, \"{$1}\");\n    }\n    var patchedValues = values && assignUniqueKeysToFormatXMLElementFnArgument(values);\n    formats = deepMergeFormatsAndSetTimeZone(formats, timeZone);\n    defaultFormats = deepMergeFormatsAndSetTimeZone(defaultFormats, timeZone);\n    if (!message) {\n        if (!defaultMessage ||\n            (locale && locale.toLowerCase() !== defaultLocale.toLowerCase())) {\n            // This prevents warnings from littering the console in development\n            // when no `messages` are passed into the <IntlProvider> for the\n            // default locale.\n            onError(new MissingTranslationError(messageDescriptor, locale));\n        }\n        if (defaultMessage) {\n            try {\n                var formatter = state.getMessageFormat(defaultMessage, defaultLocale, defaultFormats);\n                return prepareIntlMessageFormatHtmlOutput(formatter.format(patchedValues), wrapRichTextChunksInFragment);\n            }\n            catch (e) {\n                onError(new MessageFormatError(\"Error formatting default message for: \\\"\" + id + \"\\\", rendering default message verbatim\", locale, messageDescriptor, e));\n                return defaultMessage;\n            }\n        }\n        return id;\n    }\n    // We have the translated message\n    try {\n        var formatter = state.getMessageFormat(message, locale, formats, {\n            formatters: state,\n        });\n        return prepareIntlMessageFormatHtmlOutput(formatter.format(patchedValues), wrapRichTextChunksInFragment);\n    }\n    catch (e) {\n        onError(new MessageFormatError(\"Error formatting message: \\\"\" + id + \"\\\", using \" + (defaultMessage ? 'default message' : 'id') + \" as fallback.\", locale, messageDescriptor, e));\n    }\n    if (defaultMessage) {\n        try {\n            var formatter = state.getMessageFormat(defaultMessage, defaultLocale, defaultFormats);\n            return prepareIntlMessageFormatHtmlOutput(formatter.format(patchedValues), wrapRichTextChunksInFragment);\n        }\n        catch (e) {\n            onError(new MessageFormatError(\"Error formatting the default message for: \\\"\" + id + \"\\\", rendering message verbatim\", locale, messageDescriptor, e));\n        }\n    }\n    return message || defaultMessage || id;\n}\n"]},"metadata":{},"sourceType":"module"}